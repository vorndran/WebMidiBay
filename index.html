<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- verhindert das Laden aus dem Cache ----------------------------------------------------- -->
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- ----------------------------------------------------------------------------- -->
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
    <script type="module" defer src="./js/main.js"></script>
    <title>WebMidiBay</title>
    <link rel="shortcut icon" href="./icon/favicon.ico" />
    <link rel="icon" type="image/png" href="./icon/favicon.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="./icon/favicon.png" sizes="96x96" />
    <link rel="apple-touch-icon" sizes="180x180" href="./icon/apple-touch-icon.png" />
    <meta name="msapplication-TileColor" content="#e6fbf7" />
    <meta name="msapplication-TileImage" content="./mstile-144x144.png" />
  </head>
  <body>
    <div class="container">
      <div class="flex-container first-column">
        <header id="core" class="flex-item">
          <menu>
            <h1 class="inline_block">WebMidiBay</h1>
            <ul id="menu" class="inline_block">
              <li class="menu routing_menu">
                <a href="#" data-menuitem_target_id="routing">routing</a>
              </li>
              <li class="menu filter_menu">
                <a href="#" data-menuitem_target_id="filter">filter</a>
              </li>
              <li class="menu monitor_menu">
                <a href="#" data-menuitem_target_id="monitor">monitor</a>
              </li>
              <li class="menu sysex_menu"><a href="#" data-menuitem_target_id="sysex">sysex</a></li>
              <li class="menu settings_menu">
                <a href="#" data-menuitem_target_id="settings">info/settings</a>
              </li>
            </ul>
            <!-- <p class="size"></p> -->
          </menu>
          <aside id="settings" class="menu-member">
            <div id="info">
              <h2>Info</h2>
              <p>DISCAIMER: WebMidiBay is still in beta stage. Use at your own risk!</p>
              <p>
                WebMidiBay is a MIDI router and monitor running in your web browser. It uses the
                <a href="https://www.w3.org/TR/webmidi/" target="_blank">Web MIDI API</a>
                to access connected MIDI devices.
              </p>
              <p>
                Developed by Michael Vorndran - Contact:
                <span id="email-contact"></span>
                <script>
                  // Bot-sichere E-Mail-Anzeige
                  const user = 'kontakt';
                  const domain = 'webmidibay';
                  const tld = 'de';
                  document.getElementById(
                    'email-contact'
                  ).innerHTML = `<a href="mailto:${user}@${domain}.${tld}">${user}@${domain}.${tld}</a>`;
                </script>
              </p>
              <p>
                Source code available on
                <a href="https://github.com/vorndran/webmidibay" target="_blank">GitHub</a>
              </p>
              <!-- <h3>Documentation</h3> -->
              <div id="info-buttons">
                <p class="button info">
                  <a href="./html/info.html" style="color: inherit; text-decoration: none"
                    >README (by AI)</a
                  >
                </p>
                <p class="button documentation">
                  <a href="" style="color: inherit; text-decoration: none">documentation</a>
                </p>
                <div id="donate-button-container">
                  <div id="donate-button"></div>
                  <script
                    src="https://www.paypalobjects.com/donate/sdk/donate-sdk.js"
                    charset="UTF-8"
                  ></script>
                  <script>
                    PayPal.Donation.Button({
                      env: 'production',
                      hosted_button_id: 'RBDWQPWLW7SSW',
                      image: {
                        src: 'https://www.paypalobjects.com/en_US/DK/i/btn/btn_donateCC_LG.gif',
                        alt: 'Donate with PayPal button',
                        title: 'PayPal - The safer, easier way to pay online!',
                      },
                    }).render('#donate-button');
                  </script>
                </div>
              </div>

              <h3>MIDI Data Infos</h3>
              <p class="button specs">
                <a href="./html/MIDI_DataTable.html" style="color: inherit; text-decoration: none"
                  >MIDI Data Specs</a
                >
              </p>
            </div>
            <h2>Settings</h2>
            <form id="form_settings">
              <ul>
                <li class="settings inline_block">
                  <span class="clear_routing form_buttons">reset routing</span>
                </li>
                <li class="settings inline_block">
                  <span class="clear_filter form_buttons">reset filter</span>
                </li>
                <li class="settings">
                  <span class="reset_port_names form_buttons">reset portnames</span>
                </li>
                <li class="settings">
                  <span class="clear_settings form_buttons">reset all settings</span> (routing,
                  filter, portnames)
                </li>
                <!-- <li class="settings">
                  <span class="toggle_signals form_buttons">Visual Signals: ON</span>
                </li> -->
                <li class="settings">
                  <span class="toggle_port_blacklist form_buttons">ignore ports</span>
                </li>
                <li class="settings port_blacklist_container js-hidden">
                  <h3>ignore Ports:</h3>
                  <button id="apply_blacklist" class="form_buttons">Apply Changes</button>
                  <button id="cancel_blacklist" class="form_buttons">Cancel</button>
                  <ul id="port_blacklist_list" class="port_blacklist_list"></ul>
                </li>

                <li class="settings">
                  <span class="custom_settings_file_upload form_buttons">load settings</span>
                  (upload)
                  <input type="file" id="settings_file_upload" multiple />
                </li>
                <li class="settings inline_block filename">
                  <span class="settings_file_download form_buttons">save settings</span> (download)
                </li>
                <li class="settings inline_block">
                  -&gt; filename: "<span
                    id="settings_file_rename"
                    contenteditable="true"
                    class="settings form_input"
                    >WMB_Storage</span
                  >.json"
                </li>
                <li class="settings">
                  <span class="toggle_element_view form_buttons" data-view-mode="multi"
                    >view: multi</span
                  >
                </li>
                <li class="settings">
                  <select id="message_linecount" class="settings form_buttons form_input">
                    <option value="30">show 30 lines</option>
                    <option value="50">show 50 lines</option>
                    <option value="100">show 100 lines</option>
                    <option value="150">show 150 lines</option>
                    <option value="200">show 200 lines</option>
                  </select>
                  in MIDI monitor
                </li>
              </ul>
            </form>
          </aside>
          <main id="routing" class="menu-member">
            <header id="portmenu">
              <div class="portmenu_container">
                <div>
                  <h2 class="inline_block">Routing</h2>
                  <span class="toggle_signals signals_on"></span>
                </div>
                <ul class="inline_block">
                  <li class="portmenu select active"><a href="#">select</a></li>
                  <li class="portmenu rename"><a href="#">rename</a></li>
                  <li class="portmenu routing"><a href="#">routing</a></li>
                  <li class="portmenu openclose"><a href="#">open/close</a></li>
                  <!-- <li class="clock"><a href="#">clock</a></li> -->
                </ul>
              </div>
            </header>
            <section id="inputs">
              <h2 id="inputs_head">MIDI Inputs:</h2>
              <!-- <p class="inputs"></p> -->
              <ul id="input_list"></ul>
            </section>
            <section id="routing_lines">
              <!-- <h2>routing</h2> -->
              <svg id="graph"></svg>
            </section>
            <section id="outputs">
              <h2 id="outputs_head">MIDI Outputs:</h2>
              <ul id="output_list"></ul>
            </section>
          </main>
        </header>
        <div id="filter" class="flex-item">
          <h2 id="filter_head">
            Filter: <span class="filterportinfo">all inports</span><span class="in-or-out"></span>
          </h2>
          <section id="filter_cc">
            <h2 id="filter_head">Filter MIDI data:</h2>
            <ul class="filter-list">
              <li class="filter" data-statusbyte="144">Note On</li>
              <li class="filter" data-statusbyte="128">Note Off</li>
              <li class="filter" data-statusbyte="160">Poly Aftertouch</li>
              <li class="filter" data-statusbyte="176">Control Change</li>
              <li class="filter" data-statusbyte="192">Program Change</li>
              <li class="filter" data-statusbyte="208">Channel Aftertouch</li>
              <li class="filter" data-statusbyte="224">Pitch Wheel</li>
              <li class="filter" data-statusbyte="240">SysEx</li>
              <li class="filter" data-statusbyte="241">MIDI Time Code</li>
              <li class="filter" data-statusbyte="248">Timing clock</li>
              <li class="filter" data-statusbyte="250">Start</li>
              <li class="filter" data-statusbyte="251">Continue</li>
              <li class="filter" data-statusbyte="252">Stop</li>
              <li class="filter" data-statusbyte="254">Active Sensing</li>
            </ul>
          </section>
          <section id="channel">
            <div id="filter_channel">
              <h2 id="filter_channel_head">Filter Channel:</h2>
              <ul class="filter_channel_list">
                <li
                  class="channel channel_filter all_channel"
                  data-channeltype="filter"
                  data-channelvalue="0"
                >
                  all channels
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="1">
                  1
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="2">
                  2
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="3">
                  3
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="4">
                  4
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="5">
                  5
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="6">
                  6
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="7">
                  7
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="8">
                  8
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="9">
                  9
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="10">
                  10
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="11">
                  11
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="12">
                  12
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="13">
                  13
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="14">
                  14
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="15">
                  15
                </li>
                <li class="channel channel_filter" data-channeltype="filter" data-channelvalue="16">
                  16
                </li>
              </ul>
            </div>
            <div id="reset_channel">
              <h2 id="reset_channel_head">Reset Channel:</h2>
              <ul class="reset_channel_list">
                <li
                  class="channel channel_reset all_channel"
                  data-channeltype="reset"
                  data-channelvalue="0"
                >
                  all channels
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="1">
                  1
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="2">
                  2
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="3">
                  3
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="4">
                  4
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="5">
                  5
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="6">
                  6
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="7">
                  7
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="8">
                  8
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="9">
                  9
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="10">
                  10
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="11">
                  11
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="12">
                  12
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="13">
                  13
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="14">
                  14
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="15">
                  15
                </li>
                <li class="channel channel_reset" data-channeltype="reset" data-channelvalue="16">
                  16
                </li>
              </ul>
            </div>
          </section>
        </div>
      </div>
      <div class="flex-container second-column">
        <section id="sysex" class="flex-item menu-member">
          <form id="form_sysex">
            <h2>SysEx</h2>
            <ul id="sysex_file">
              <!-- <button id="settings_file_download" name="save_settings">Download Settings</button> -->
              <li class="sysex">
                <span class="toggle_sysex_collection form_buttons">auto-collect sysex</span>
              </li>
              <li class="sysex">
                <span class="auto_download_sysex form_buttons">auto-download sysex</span>
              </li>
              <li class="sysex">
                <span class="custom_sysex_file_upload form_buttons">load SysEx files</span> (upload)
                <input type="file" id="sysex_file_upload" multiple />
              </li>
              <li class="sysex inline_block filename">
                <span class="sysex_file_download form_buttons">save SysEx as file</span> (download)
              </li>
              <li class="sysex inline_block">
                -&gt; filename: "<span
                  id="sysex_file_rename"
                  contenteditable="true"
                  class="form_input"
                  >sysex</span
                >.syx"
              </li>
            </ul>
            <div class="sysex"></div>
          </form>
        </section>
        <aside id="monitor" class="flex-item menu-member">
          <h2 id="message_head">
            <div class="action_buttons">
              Monitor
              <span class="clock"><a href="#">clock</a></span>
              <span id="pause_message" class="message-button">pause</span>
              <span id="clear_message" class="message-button">clear</span>
            </div>
            <div class="message_buttons">
              <select id="filtered_message" class="message-button" autocomplete="off">
                <option value="all">all</option>
                <option value="filtered">filtered</option>
                <option value="unfiltered">unfiltered</option>
              </select>
              <select id="filtered_ports" class="message-button" autocomplete="off">
                <option value="inputs">inputs</option>
                <option value="outputs">outputs</option>
                <option value="all">all ports</option>
                <option value="selection">selected port</option>
              </select>
              <select id="filtered_txt_strings" class="message-button" autocomplete="off">
                <option value="text">text info</option>
                <option value="raw">raw data</option>
                <option value="both">text & raw</option>
              </select>
            </div>
          </h2>
          <section id="message_text" class="message"></section>
        </aside>
      </div>
    </div>
  </body>
</html>

